!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("react"),require("react-dom"),require("stylis")):"function"==typeof define&&define.amd?define(["exports","react","react-dom","stylis"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).ReactStyleTag={},e.React,e.ReactDOM,e.stylis)}(this,(function(e,n,t,i){"use strict";var r,o=function(){};function f(){var e,n=c(),t=null;return function(i){return i===t?e:(n===o&&(n=c()),e=(t=i)?n(new Blob([i],{type:"text/css"})):void 0)}}function c(){return"undefined"==typeof window?o:(window.URL||window.webkitURL).createObjectURL||o}var u="undefined"!=typeof process&&"production"===(null==(r=process.env)?void 0:r.NODE_ENV),s={hasSourceMap:!u,isMinified:u,isPrefixed:!0},a=Object.assign({},s),l=Object.prototype.hasOwnProperty;function d(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||"-_*.:#[]".indexOf(e)>=0}function h(e){return"'"===e||'"'===e}function p(e){return" "===e||"\n"===e||"\t"===e||"\r"===e||"\f"===e}function g(e,n){void 0===n&&(n={}),e=e.replace(/\r\n/g,"\n");var t,i,r,o,f=n,c=f.autosemicolon,u=void 0!==c&&c,s=f.indent,a=void 0===s?"  ":s,l=f.openbrace,g=void 0===l||l,v=0,m=e.length,y=[],b="",A=0,E=1,M=2,O=3,w=4,x=5,P=6,R=7,j=8,_=A,S=0,C=!1;function q(){for(var e=S;e>0;--e)b+=a}function L(){b=b.trimEnd(),g?b+=" {":(b+="\n",q(),b+="{"),"\n"!==i&&(b+="\n"),S+=1}function T(){var e;S-=1,(b=b.trimEnd()).length>0&&u&&";"!==(e=b.charAt(b.length-1))&&"{"!==e&&(b+=";"),b+="\n",q(),b+="}",y.push(b),b=""}for(;v<m;)if(t=e.charAt(v),i=e.charAt(v+1),++v,h(o))b+=t,t===o&&(o=null),"\\"===t&&i===o&&(b+=i,++v);else if(h(t))b+=t,o=t;else if(C)b+=t,"*"===t&&"/"===i&&(C=!1,b+=i,++v);else if("/"!==t||"*"!==i){if(_===A){if(0===y.length&&p(t)&&0===b.length)continue;if(t<=" "||t.charCodeAt(0)>=128){_=A,b+=t;continue}if(d(t)||"@"===t){if(0===(r=b.trimEnd()).length)y.length>0&&(b="\n\n");else{var U=r.charAt(r.length-1);if("}"===U||";"===U)b=r+"\n\n";else for(;" "===(i=b.charAt(b.length-1))||9===i.charCodeAt(0);)b=b.substr(0,b.length-1)}b+=t,_="@"===t?E:O;continue}}if(_!==E)if(_!==M)if(_!==O)if(_!==w)if(_!==x)if(_!==P)if(_!==R)_===j&&")"===t&&b.charAt(b.length-1!=="\\"?1:0)?(b+=t,_=R):b+=t;else{if("}"===t){T(),_=A,S>0&&(_=M);continue}if(";"===t){b=b.trimEnd(),b+=";\n",_=w;continue}if(b+=t,"("===t&&"l"===b.charAt(b.length-2)&&"r"===b.charAt(b.length-3)&&"u"===b.charAt(b.length-4)){_=j;continue}}else{if(!p(t)){b+=t,_=R;continue}h(i)&&(_=R)}else{if(":"===t){b=b.trimEnd(),b+=": ",_=R,p(i)&&(_=P);continue}if("}"===t){T(),_=A,S>0&&(_=M);continue}b+=t}else{if("}"===t){T(),_=A,S>0&&(_=M);continue}if("\n"===t){b=b.trimEnd(),b+="\n";continue}if(!p(t)){b=b.trimEnd(),b+="\n",q(),b+=t,_=x;continue}b+=t}else{if("{"===t){L(),_=w;continue}if("}"===t){T(),_=A;continue}b+=t}else{if(d(t)){if(0===(r=b.trimEnd()).length)y.length>0&&(b="\n\n");else if("}"===r.charAt(r.length-1))b=r+"\n\n";else for(;" "===(i=b.charAt(b.length-1))||9===i.charCodeAt(0);)b=b.substr(0,b.length-1);q(),b+=t,_=O;continue}if("}"===t){T(),_=A;continue}b+=t}else{if(";"===t){b+=t,_=A;continue}if("{"===t){r=b.trimEnd(),L(),_="@font-face"===r?w:M;continue}b+=t}}else C=!0,b+=t,b+=i,++v;return b=y.join("")+b}function v(e,n){var t=function(e,n){var t=i.compile(e),r=n.isPrefixed?i.middleware([i.prefixer,i.stringify]):i.stringify;return i.serialize(t,r)}(e,n);return n.isMinified?t:g(t,{autosemicolon:!0,indent:"  "})}var m={children:!0,hasSourceMap:!0,isMinified:!0,isPrefixed:!0};function y(e){var n={};for(var t in e)m[t]||(n[t]=e[t]);return n}function b(e,t){var i=n.useRef(e),r=n.useRef();return r.current&&i.current===e||(r.current=v(e,t),i.current=e),r.current}var A=n.forwardRef((function(e,t){var i=e.passedProps,r=e.style,o=n.useMemo(f,[]);return n.createElement("link",Object.assign({},i,{href:o(r),rel:"stylesheet",ref:t}))})),E=n.forwardRef((function(e,i){var r=e.hasSourceMap,o=e.isMinified,f=e.isPrefixed,c=y(e),u=n.useMemo((function(){return function(e){var n,t=Object.assign({},a);for(n in e)l.call(t,n)&&null!=e[n]&&(t[n]=!!e[n]);return t}({hasSourceMap:r,isMinified:o,isPrefixed:f})}),[r,o,f]),s=b(e.children,u);return u.hasSourceMap?t.createPortal(n.createElement(A,{passedProps:c,ref:i,style:s}),document.head):t.createPortal(n.createElement("style",Object.assign({},c,{ref:i}),s),document.head)})),M=0;e.Style=E,e.getGlobalOptions=function(){return a},e.hashKeys=function(e){return e.reduce((function(e,n){return e[n]=function(e){for(var n=e+"-"+M++,t=5381,i=n.length;i;)t=33*t^n.charCodeAt(--i);return"scoped__"+e+"__"+(t>>>0)}(n),e}),{})},e.setGlobalOptions=function(e){var n;for(n in e)l.call(a,n)&&(a[n]=!!e[n])},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=react-style-tag.min.js.map
